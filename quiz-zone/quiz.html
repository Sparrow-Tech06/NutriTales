<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz Game</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body { background: linear-gradient(to right, #e3f2fd, #f1f8e9); min-height: 100vh; }
    .quiz-card { max-width: 700px; margin: 40px auto; border-radius: 20px; }
    .coin { color: gold; font-size: 1.5rem; }
    .option-btn {
      transition: 0.3s;
      border-radius: 12px;
    }
    .option-btn:hover {
      transform: scale(1.05);
      cursor: pointer;
    }
    .correct { background: #c8e6c9 !important; }
    .wrong { background: #ffcdd2 !important; }
  </style>
</head>
<body>
  <div class="container text-center mt-4">
    <h1><i class="bi bi-controller"></i> Fun Quiz Game</h1>
    <a href="badges.html" class="btn btn-outline-primary my-3">
      <i class="bi bi-bar-chart-line"></i> View Levels
    </a>

    <div class="card quiz-card shadow p-4">
      <h4 id="question">Loading Question...</h4>
      <div id="options" class="row row-cols-2 g-3 my-3"></div>
      <button id="nextBtn" class="btn btn-success w-100 d-none">
        Next Question <i class="bi bi-arrow-right"></i>
      </button>
    </div>

    <p class="mt-3">
      <i class="bi bi-coin coin"></i> Coins: <span id="coins">0</span>
    </p>
  </div>

  <script>
    const questions = [
      {
        q: "Which is the capital of France?",
        options: ["Berlin", "Madrid", "Paris", "Lisbon"],
        answer: "Paris"
      },
      {
        q: "2 + 2 = ?",
        options: ["3", "4", "5", "6"],
        answer: "4"
      },
      {
        q: "Which planet is known as Red Planet?",
        options: ["Earth", "Mars", "Venus", "Jupiter"],
        answer: "Mars"
      }
    ];

    let currentQ = 0;
    let coins = parseInt(localStorage.getItem("coins") || "0");
    document.getElementById("coins").innerText = coins;

    function loadQuestion() {
      const q = questions[currentQ];
      document.getElementById("question").innerText = q.q;
      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
      q.options.forEach(opt => {
        const col = document.createElement("div");
        col.className = "col";
        const btn = document.createElement("div");
        btn.className = "p-3 border bg-light option-btn shadow-sm";
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(opt, q.answer, btn);
        col.appendChild(btn);
        optionsDiv.appendChild(col);
      });
    }

    function checkAnswer(selected, correct, btn) {
      const allBtns = document.querySelectorAll(".option-btn");
      allBtns.forEach(b => b.style.pointerEvents = "none");

      if (selected === correct) {
        btn.classList.add("correct");
        coins += 10;
        localStorage.setItem("coins", coins);
        document.getElementById("coins").innerText = coins;
      } else {
        btn.classList.add("wrong");
        allBtns.forEach(b => {
          if (b.innerText === correct) b.classList.add("correct");
        });
      }
      document.getElementById("nextBtn").classList.remove("d-none");
    }

    document.getElementById("nextBtn").onclick = () => {
      currentQ++;
      if (currentQ < questions.length) {
        loadQuestion();
        document.getElementById("nextBtn").classList.add("d-none");
      } else {
        document.getElementById("question").innerText = "ðŸŽ‰ Game Over!";
        document.getElementById("options").innerHTML = "<p class='fw-bold text-success'>Well played!</p>";
        document.getElementById("nextBtn").classList.add("d-none");
      }
    };

    loadQuestion();
  </script>
</body>
</html>
