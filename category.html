<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NutriTales — Items</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <main class="container page-frame py-4">
    <header class="mb-3">
      <a href="index.html" class="text-decoration-none"><i class="bi bi-arrow-left"></i> Back</a>
      <h2 id="categoryTitle" class="mt-2">Category</h2>
      <p id="categoryDesc" class="small text-muted">Select an item to read its story.</p>
    </header>

    <section id="itemsGrid" aria-label="items list">
      <!-- JS will populate this -->
    </section>

    <footer class="mt-5 text-center small text-muted">NutriTales</footer>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/app.js"></script>
  <script>
    // Simple items for demo — expand as needed
    const ITEMS = {
      fruits: [
        {slug: 'apple', title: 'Apple', img: 'content/fruits/apple/img.jpg'},
        {slug: 'mango', title: 'Mango', img: 'content/fruits/mango/img.jpg'}
      ],
      vegetables: [
        {slug: 'carrot', title: 'Carrot', img: 'assets/img/placeholder.png'}
      ]
    };

    (function(){
      const params = new URLSearchParams(location.search);
      const cat = params.get('cat') || 'fruits';
      document.getElementById('categoryTitle').textContent = cat.charAt(0).toUpperCase()+cat.slice(1);

      const grid = document.getElementById('itemsGrid');
      const row = document.createElement('div'); row.className = 'row g-3';
      ITEMS[cat].forEach(item => {
        const col = document.createElement('div'); col.className='col-12 col-md-6';
        col.innerHTML = `
          <a href="content/${cat}/${item.slug}/story.html" class="card item-card text-decoration-none text-dark h-100 shadow-sm">
            <div class="row g-0 align-items-center">
              <div class="col-4">
                <img src="${item.img}" alt="${item.title}" class="img-fluid rounded-start">
              </div>
              <div class="col-8">
                <div class="card-body">
                  <h5 class="card-title mb-1">${item.title}</h5>
                  <p class="card-text small text-muted mb-0">Read the story & health benefits.</p>
                </div>
              </div>
            </div>
          </a>
        `;
        row.appendChild(col);
      });
      grid.appendChild(row);
    })();
  </script>
</body>
</html>
